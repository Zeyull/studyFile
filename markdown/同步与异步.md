# 同步与异步

## 1.同步与异步概念

同步：就是后一个任务等待前一个任务执行完毕后，再执行，执行顺序和任务的排列顺序一致

异步：是非阻塞的，异步逻辑与主逻辑相互独立，主逻辑不需要等待异步逻辑完成，而是可以立即继续下去

## 2.Promise

异步编程的一种解决方案，比传统的解决方案——回调函数和事件，更合理且更强大

有三个状态：

​	1.pending[待定] 初始状态

​	2.fulfilled[实现] 操作成功

​	3.rejected[拒绝] 操作失败



当promise状态发生改变，就会触发then()里的响应函数处理后续步骤 promise.then(函数).catch(函数)

状态改变，只有两种可能：

​	从pending变成fulfilled

​	从pending变成rejected



### 扩展

Promise.all，可以将多个Promise实例包装成一个新的Promise实例。同时，成功和失败的返回值是不同的，成功的时候返回的是一个结果数组，而失败的时候则返回最先被reject失败状态的值

Promise.race，顾名思义，race就是赛跑的意思，意思就是说，Promise.race([p1,p2,p3])里面哪个结果获得的快，就返回哪个结果，不管结果本身是成功状态还是失败状态

# 3.Async/await

也是用来处理异步的，其实就是Generator函数的改进，背后的原理就是Promise

注意await 关键字只能放到async 函数里面



async作为一个关键字放到函数前面，用于表示函数是一个异步函数，因为async就是异步的意思， 异步函数也就意味着该函数的执行不会阻塞后面代码的执行。



await 会阻塞后面的代码，等待主程序执行完，再回来执行。

如果await是reject，后面的代码就不会执行，要加上try catch才会执行



总结：

回调函数作为最基础的处理异步调用的方式，至今仍在使用。Promise解决了回调函数的深层嵌套问题，随着ES6的普及已经得到了广泛使用。而async+await在promise的基础上做了封装，让代码可读性得到了提升。